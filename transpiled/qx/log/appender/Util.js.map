{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.dialog/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/log/appender/Util.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "toHtml",
    "entry",
    "output",
    "item",
    "msg",
    "sub",
    "list",
    "push",
    "formatOffset",
    "offset",
    "object",
    "clazz",
    "classname",
    "obj",
    "win",
    "core",
    "ObjectRegistry",
    "fromHashCode",
    "$$hash",
    "items",
    "i",
    "il",
    "length",
    "text",
    "Array",
    "j",
    "jl",
    "escapeHTML",
    "key",
    "type",
    "join",
    "wrapper",
    "document",
    "createElement",
    "innerHTML",
    "className",
    "level",
    "str",
    "toString",
    "diff",
    "pad",
    "value",
    "String",
    "replace",
    "__escapeHTMLReplace",
    "ch",
    "map",
    "toText",
    "toTextArray",
    "trace",
    "FORMAT_STACK",
    "log",
    "Logger",
    "deprecatedConstantWarning",
    "appender",
    "Util"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Contains some common methods available to all log appenders.\n */\nqx.Bootstrap.define(\"qx.log.appender.Util\",\n{\n  statics :\n  {\n    /**\n     * Converts a single log entry to HTML\n     *\n     * @signature function(entry)\n     * @param entry {Map} The entry to process\n     */\n    toHtml : function(entry)\n    {\n      var output = [];\n      var item, msg, sub, list;\n\n      output.push(\"<span class='offset'>\", this.formatOffset(entry.offset, 6), \"</span> \");\n\n      if (entry.object)\n      {\n        if (entry.clazz) {\n          output.push(\"<span class='object' title='Object instance with hash code: \" + entry.object + \"'>\", entry.clazz.classname, \"[\", entry.object, \"]</span>: \");\n        } else {\n          var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object, true);\n          if (obj) {\n            output.push(\"<span class='object' title='Object instance with hash code: \" + obj.$$hash + \"'>\", obj.classname, \"[\", obj.$$hash, \"]</span>: \");\n          }\n        }\n      }\n      else if (entry.clazz)\n      {\n        output.push(\"<span class='object'>\" + entry.clazz.classname, \"</span>: \");\n      }\n\n      var items = entry.items;\n      for (var i=0, il=items.length; i<il; i++)\n      {\n        item = items[i];\n        msg = item.text;\n\n        if (msg instanceof Array)\n        {\n          var list = [];\n\n          for (var j=0, jl=msg.length; j<jl; j++)\n          {\n            sub = msg[j];\n            if (typeof sub === \"string\") {\n              list.push(\"<span>\" + this.escapeHTML(sub) + \"</span>\");\n            } else if (sub.key) {\n              list.push(\"<span class='type-key'>\" + sub.key + \"</span>:<span class='type-\" + sub.type + \"'>\" + this.escapeHTML(sub.text) + \"</span>\");\n            } else {\n              list.push(\"<span class='type-\" + sub.type + \"'>\" + this.escapeHTML(sub.text) + \"</span>\");\n            }\n          }\n\n          output.push(\"<span class='type-\" + item.type + \"'>\");\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n\n          output.push(\"</span>\");\n        }\n        else\n        {\n          output.push(\"<span class='type-\" + item.type + \"'>\" + this.escapeHTML(msg) + \"</span> \");\n        }\n      }\n\n      var wrapper = document.createElement(\"DIV\");\n      wrapper.innerHTML = output.join(\"\");\n      wrapper.className = \"level-\" + entry.level;\n\n      return wrapper;\n    },\n\n\n    /**\n     * Formats a numeric time offset to 6 characters.\n     *\n     * @param offset {Integer} Current offset value\n     * @param length {Integer?6} Refine the length\n     * @return {String} Padded string\n     */\n    formatOffset : function(offset, length)\n    {\n      var str = offset.toString();\n      var diff = (length||6) - str.length;\n      var pad = \"\";\n\n      for (var i=0; i<diff; i++) {\n        pad += \"0\";\n      }\n\n      return pad+str;\n    },\n\n\n    /**\n     * Escapes the HTML in the given value\n     *\n     * @param value {String} value to escape\n     * @return {String} escaped value\n     */\n    escapeHTML : function(value) {\n      return String(value).replace(/[<>&\"']/g, this.__escapeHTMLReplace);\n    },\n\n\n    /**\n     * Internal replacement helper for HTML escape.\n     *\n     * @param ch {String} Single item to replace.\n     * @return {String} Replaced item\n     */\n    __escapeHTMLReplace : function(ch)\n    {\n      var map =\n      {\n        \"<\" : \"&lt;\",\n        \">\" : \"&gt;\",\n        \"&\" : \"&amp;\",\n        \"'\" : \"&#39;\",\n        '\"' : \"&quot;\"\n      };\n\n      return map[ch] || \"?\";\n    },\n\n\n    /**\n     * Converts a single log entry to plain text\n     *\n     * @param entry {Map} The entry to process\n     * @return {String} the formatted log entry\n     */\n    toText : function(entry) {\n      return this.toTextArray(entry).join(\" \");\n    },\n\n\n    /**\n     * Converts a single log entry to an array of plain text\n     *\n     * @param entry {Map} The entry to process\n     * @return {Array} Argument list ready message array.\n     */\n    toTextArray : function(entry)\n    {\n      var output = [];\n\n      output.push(this.formatOffset(entry.offset, 6));\n\n      if (entry.object)\n      {\n        if (entry.clazz) {\n          output.push(entry.clazz.classname + \"[\" + entry.object + \"]:\");\n        } else {\n          var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object, true);\n          if (obj) {\n            output.push(obj.classname + \"[\" + obj.$$hash + \"]:\");\n          }\n        }\n      }\n      else if (entry.clazz) {\n        output.push(entry.clazz.classname + \":\");\n      }\n\n      var items = entry.items;\n      var item, msg;\n      for (var i=0, il=items.length; i<il; i++)\n      {\n        item = items[i];\n        msg = item.text;\n\n        if (item.trace && item.trace.length > 0) {\n          if (typeof(this.FORMAT_STACK) == \"function\") {\n            qx.log.Logger.deprecatedConstantWarning(qx.log.appender.Util,\n              \"FORMAT_STACK\",\n              \"Use qx.dev.StackTrace.FORMAT_STACKTRACE instead\");\n            msg += \"\\n\" + this.FORMAT_STACK(item.trace);\n          } else {\n            msg += \"\\n\" + item.trace;\n          }\n        }\n\n        if (msg instanceof Array)\n        {\n          var list = [];\n          for (var j=0, jl=msg.length; j<jl; j++) {\n            list.push(msg[j].text);\n          }\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n        }\n        else\n        {\n          output.push(msg);\n        }\n      }\n\n      return output;\n    }\n  }\n});\n"
  ]
}